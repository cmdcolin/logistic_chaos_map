(this.webpackJsonplogistic_map_chaos=this.webpackJsonplogistic_map_chaos||[]).push([[0],{21:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),i=c.n(n),r=c(12),o=c.n(r),s=c(3),b=c(13),l=c(5),u=c.n(l),j=c(8),h=c(4),f=(c(21),c(2)),d=u.a.mark(O);function O(e,t,c,a,n,i,r,o,s){var b,l,j,h,f,O,x,m,v,p,g,k,w;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:b=(n-a)/t,l=1e3*Math.pow(1.5,Math.log(1/(n-a))),j=0;case 3:if(!(j<t)){u.next=11;break}return u.next=6,j+1;case 6:for(h=j*b+a,f=0;f<o;){for(O=Math.random(),x=0;x<Math.max(l,1e4);x++)O=h*O*(1-O);if(s)for(m=0;m<500;m++)p=c*((h-a)/(n-a)),(v=t*((O-i)/(r-i)))>0&&v<t&&(e.fillRect(v,p,.7,.7),f++),O=h*O*(1-O);else for(g=0;g<500;g++)w=t*((h-a)/(n-a)),(k=c*((O-i)/(r-i)))>0&&k<c&&(e.fillRect(w,k,.7,.7),f++),O=h*O*(1-O)}case 8:j++,u.next=3;break;case 11:case"end":return u.stop()}}),d)}var x=c(14),m=c.n(x);function v(e){return new Promise((function(t){return setTimeout(t,e)}))}var p=function(){var e=Object(n.useState)(),t=Object(h.a)(e,2),i=t[0],r=t[1],o=Object(n.useState)(),l=Object(h.a)(o,2),d=l[0],x=l[1],p=Object(f.e)({minX:Object(f.f)(f.b,0),maxX:Object(f.f)(f.b,1),minR:Object(f.f)(f.b,2),maxR:Object(f.f)(f.b,4),opacity:Object(f.f)(f.d,"0.1"),resolution:Object(f.f)(f.d,"500"),animate:Object(f.f)(f.a,!0),drawWithWasm:Object(f.f)(f.a,!1),vertical:Object(f.f)(f.a,!1)}),g=Object(h.a)(p,2),k=g[0],w=g[1],y=Object(n.useState)(),R=Object(h.a)(y,2),M=R[0],C=R[1],S=Object(n.useState)(),N=Object(h.a)(S,2),X=N[0],_=N[1],W=Object(n.useState)(!0),E=Object(h.a)(W,2),B=E[0],F=E[1],P=Object(n.useState)(),D=Object(h.a)(P,2),T=D[0],z=D[1],A=Object(n.useState)(0),I=Object(h.a)(A,2),J=I[0],L=I[1],Y=function(){var e=Object(n.useState)(0),t=Object(h.a)(e,2)[1];return Object(n.useCallback)((function(){t((function(e){return e+1}))}),[])}();Object(n.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.e(3).then(c.bind(null,39));case 3:t=e.sent,z(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]);var G=k.drawWithWasm,U=k.minX,V=k.maxX,q=k.minR,H=k.maxR,K=k.opacity,Q=k.resolution,Z=k.animate,$=k.vertical;return Object(n.useEffect)((function(){var e=!1;return Object(j.a)(u.a.mark((function t(){var c,a,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!T||Number.isNaN(+K)||Number.isNaN(+Q)){t.next=13;break}if(i){t.next=3;break}return t.abrupt("return");case 3:if(c=i.getContext("2d")){t.next=6;break}return t.abrupt("return");case 6:a=i.getBoundingClientRect(),n=a.width,r=a.height,i.width=2*n,i.height=2*r,c.scale(2,2),F(!0),L(0),setTimeout(Object(j.a)(u.a.mark((function t(){var a,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.fillStyle="white",c.fillRect(0,0,n,r),c.fillStyle="rgba(0,0,0,".concat(+K,")"),!G){t.next=7;break}T.draw(c,n,r,q,H,U,V,+Q,$),t.next=28;break;case 7:a=Object(b.a)(O(c,n,r,q,H,U,V,+Q,$)),t.prev=8,a.s();case 10:if((i=a.n()).done){t.next=20;break}if(o=i.value,!Z){t.next=16;break}return L(o/n),t.next=16,v(1);case 16:if(!e){t.next=18;break}return t.abrupt("break",20);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),a.e(t.t0);case 25:return t.prev=25,a.f(),t.finish(25);case 28:e||(F(!1),L(0));case 29:case"end":return t.stop()}}),t,null,[[8,22,25,28]])}))),100);case 13:case"end":return t.stop()}}),t)})))(),function(){e=!0}}),[q,H,U,V,$,Z,G,K,Q,i,T]),Object(n.useEffect)((function(){if(d){var e=d.getContext("2d");if(e){var t=d.getBoundingClientRect(),c=t.width,a=t.height;if(d.width=c,d.height=a,M){e.clearRect(0,0,c,a);var n=Object(h.a)(M,2),i=n[0],r=n[1],o=Object(h.a)(X,2),s=o[0],b=o[1];e.fillStyle="rgba(255,0,0,0.3)",e.fillRect(i,r,s-i,b-r)}}}}),[M,X,d]),Object(a.jsxs)("div",{style:{margin:20},children:[Object(a.jsx)("h1",{children:Object(a.jsx)("a",{href:"https://github.com/cmdcolin/logistic_chaos_map",children:"f(x)=rx(x-1)"})}),Object(a.jsx)("p",{children:"The function above is iterated for values of r between [2,4] and x between [0,1] and points. Click and drag a region to zoom in."}),Object(a.jsxs)("div",{className:"controls",children:[Object(a.jsxs)("div",{className:"block",children:[Object(a.jsx)("label",{htmlFor:"opacity",children:"Opacity"}),Object(a.jsx)("input",{id:"opacity",type:"text",value:K,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{opacity:e.target.value})),Y()}})]}),Object(a.jsxs)("div",{className:"block",children:[Object(a.jsx)("label",{htmlFor:"resolution",children:"Points to draw at each X"}),Object(a.jsx)("input",{id:"resolution",type:"text",value:Q,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{resolution:e.target.value})),Y()}})]}),Object(a.jsxs)("div",{className:"block",children:[Object(a.jsx)("label",{htmlFor:"wasm",children:"Draw with WASM"}),Object(a.jsx)("input",{id:"wasm",type:"checkbox",checked:G,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{drawWithWasm:e.target.checked})),Y()}})]}),G?null:Object(a.jsxs)("div",{className:"block",children:[Object(a.jsx)("label",{htmlFor:"vertical",children:"Vertical"}),Object(a.jsx)("input",{id:"vertical",type:"checkbox",checked:$,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{vertical:e.target.checked})),Y()}})]}),G?null:Object(a.jsxs)("div",{className:"block",children:[Object(a.jsx)("label",{htmlFor:"animate",children:"Animate?"}),Object(a.jsx)("input",{id:"animate",disabled:G,type:"checkbox",checked:k.animate,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{animate:e.target.checked})),Y()}})]}),Object(a.jsx)("p",{children:B?"Loading...".concat(J?J.toPrecision(3):""):null}),Object(a.jsx)("button",{onClick:function(){i.toBlob((function(e){m()(e,"logistic_map_".concat(+Date.now(),".png"))}))},children:"Save as PNG"}),Object(a.jsx)("button",{onClick:function(){w(Object(s.a)(Object(s.a)({},k),{},{minX:0,maxX:1,minR:2,maxR:4})),Y()},children:"Reset"})]}),Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("canvas",{ref:function(e){return r(e)},style:{background:"white",width:"100%",height:"100vh",position:"absolute",left:0,top:0}}),Object(a.jsx)("canvas",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100vh",zIndex:1e3},ref:function(e){return x(e)},onMouseDown:function(e){var t=e.nativeEvent,c=t.offsetX,a=t.offsetY;C([c,a]),_([c,a])},onMouseMove:function(e){var t=e.nativeEvent,c=t.offsetX,a=t.offsetY;M&&_([c,a])},onMouseLeave:function(){C(),_()},onMouseUp:function(){var e=Math.min(M[0],X[0]),t=Math.max(M[0],X[0]),c=Math.min(M[1],X[1]),a=Math.max(M[1],X[1]),n=d.getBoundingClientRect(),i=n.width,r=n.height;w(Object(s.a)(Object(s.a)({},k),{},{minR:(H-q)*e/i+q,maxR:(H-q)*t/i+q,minX:(V-U)*c/r+U,maxX:(V-U)*a/r+U})),Y(),C(),_(),F(!0)}})]})]})};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(f.c,{children:Object(a.jsx)(p,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.0a15ad92.chunk.js.map