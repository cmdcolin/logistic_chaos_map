{"version":3,"sources":["App.js","index.js"],"names":["initial","minX","maxX","minR","maxR","App","useState","draw","setDraw","mouseover","setMouseover","params","setParams","mouseDown","setMouseDown","mouseCurr","setMouseCurr","loading","setLoading","useEffect","ctx","getContext","getBoundingClientRect","width","height","requestIdleCallback","fillStyle","fillRect","rstep","xstep","r","p","x","i","drawCanvas","clearRect","font","textAlign","textBaseline","fillText","x1","y1","x2","y2","style","margin","onClick","position","ref","background","left","top","zIndex","onMouseDown","event","nativeEvent","offsetX","y","offsetY","onMouseMove","onMouseLeave","onMouseUp","Math","min","max","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35c118ad.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\nimport { useEffect, useState } from \"react\";\n\nconst initial = {\n  minX: 0,\n  maxX: 1,\n  minR: 2,\n  maxR: 4,\n};\nfunction App() {\n  const [draw, setDraw] = useState();\n  const [mouseover, setMouseover] = useState();\n  const [params, setParams] = useState(initial);\n  const [mouseDown, setMouseDown] = useState();\n  const [mouseCurr, setMouseCurr] = useState();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const { minX, maxX, minR, maxR } = params;\n    if (!draw) return;\n    const ctx = draw.getContext(\"2d\");\n    if (!ctx) return;\n    const { width, height } = draw.getBoundingClientRect();\n    draw.width = width;\n    draw.height = height;\n    function drawCanvas() {\n      ctx.fillStyle = \"white\";\n      ctx.fillRect(0, 0, width, height);\n      ctx.fillStyle = \"rgba(0,0,0,0.1)\";\n      const rstep = (maxR - minR) / width;\n      const xstep = (maxX - minX) / height;\n      for (let r = minR; r < maxR; r += rstep) {\n        for (let p = minX; p < maxX; p += xstep * 10) {\n          let x = p;\n          for (let i = 0; i < 1000; i++) {\n            x = r * x * (1 - x);\n          }\n          for (let i = 0; i < 20; i++) {\n            ctx.fillRect(\n              width * ((r - minR) / (maxR - minR)),\n              height * ((x - minX) / (maxX - minX)),\n              0.7,\n              0.7\n            );\n            x = r * x * (1 - x);\n          }\n        }\n      }\n    }\n\n    requestIdleCallback(() => {\n      drawCanvas();\n      setLoading(false);\n    });\n  }, [params, draw]);\n\n  useEffect(() => {\n    if (!mouseover) return;\n    const ctx = mouseover.getContext(\"2d\");\n    if (!ctx) return;\n    const { width, height } = mouseover.getBoundingClientRect();\n    mouseover.width = width;\n    mouseover.height = height;\n    if (loading) {\n      ctx.clearRect(0, 0, width, height);\n      ctx.font = \"100px Verdana\";\n      ctx.textAlign = \"center\";\n      ctx.textBaseline = \"middle\";\n      ctx.fillText(\"Loading...\", width / 2, height / 2);\n    }\n    if (mouseDown) {\n      ctx.clearRect(0, 0, width, height);\n      const [x1, y1] = mouseDown;\n      const [x2, y2] = mouseCurr;\n      ctx.fillStyle = \"rgba(255,0,0,0.3)\";\n      ctx.fillRect(x1, y1, x2 - x1, y2 - y1);\n    }\n  }, [mouseDown, mouseCurr, mouseover, loading]);\n  const { minR, maxR, minX, maxX } = params;\n\n  return (\n    <div style={{ margin: 20 }}>\n      <h1>f(x)=rx(x-1)</h1>\n      <p>\n        The function above is iterated for values of r between [2,4] and x\n        between [0,1] and points where it lands after 100 initial warm up\n        iterations are plotted\n      </p>\n      <p>\n        Current params: r=[{minR},{maxR}] x=[{minX},{maxX}]\n      </p>\n      <button onClick={() => setParams(initial)}>Reset</button>\n      <div style={{ position: \"relative\" }}>\n        <canvas\n          ref={(ref) => setDraw(ref)}\n          style={{\n            background: \"white\",\n            width: \"100%\",\n            height: \"100vh\",\n            position: \"absolute\",\n            left: 0,\n            top: 0,\n          }}\n        />\n        <canvas\n          style={{\n            position: \"absolute\",\n            left: 0,\n            top: 0,\n            width: \"100%\",\n            height: \"100vh\",\n            zIndex: 100,\n          }}\n          ref={(ref) => setMouseover(ref)}\n          onMouseDown={(event) => {\n            const { offsetX: x, offsetY: y } = event.nativeEvent;\n            setMouseDown([x, y]);\n            setMouseCurr([x, y]);\n          }}\n          onMouseMove={(event) => {\n            const { offsetX: x, offsetY: y } = event.nativeEvent;\n            if (mouseDown) {\n              setMouseCurr([x, y]);\n            }\n          }}\n          onMouseLeave={(event) => {\n            setMouseDown();\n            setMouseCurr();\n          }}\n          onMouseUp={() => {\n            const x1 = Math.min(mouseDown[0], mouseCurr[0]);\n            const x2 = Math.max(mouseDown[0], mouseCurr[0]);\n            const y1 = Math.min(mouseDown[1], mouseCurr[1]);\n            const y2 = Math.max(mouseDown[1], mouseCurr[1]);\n            const { maxR, minR, maxX, minX } = params;\n            const { width, height } = mouseover.getBoundingClientRect();\n\n            setParams({\n              minR: ((maxR - minR) * x1) / width + minR,\n              maxR: ((maxR - minR) * x2) / width + minR,\n              minX: ((maxX - minX) * y1) / height + minX,\n              maxX: ((maxX - minX) * y2) / height + minX,\n            });\n            setMouseDown();\n            setMouseCurr();\n            setLoading(true);\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}