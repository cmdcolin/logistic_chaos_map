(this.webpackJsonplogistic_map_chaos=this.webpackJsonplogistic_map_chaos||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(11),s=n.n(i),o=n(12),u=n(5),b=n.n(u),h=n(9),f=n(2),l=n(3),j=b.a.mark(x);function x(e,t,n,a,c,r,i){var s,o,u,h,f,l,x,d,m,O;return b.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:s=(c-a)/t,o=1e3*Math.pow(1.5,Math.log(1/(c-a))),u=0;case 3:if(!(u<t)){b.next=11;break}return b.next=6,u+1;case 6:for(h=u*s+a,f=0;f<500;){for(l=Math.random(),x=0;x<Math.max(o,1e4);x++)l=h*l*(1-l);for(d=0;d<500;d++)O=t*((h-a)/(c-a)),(m=n*((l-r)/(i-r)))>0&&m<n&&(e.fillRect(O,m,.7,.7),f++),l=h*l*(1-l)}case 8:u++,b.next=3;break;case 11:case"end":return b.stop()}}),j)}function d(e){return new Promise((function(t){return setTimeout(t,e)}))}var m={minX:0,maxX:1,minR:2,maxR:4};var O=function(){var e=Object(c.useState)(),t=Object(f.a)(e,2),r=t[0],i=t[1],s=Object(c.useState)(),u=Object(f.a)(s,2),j=u[0],O=u[1],p=Object(l.c)({minX:Object(l.d)(l.a,0),maxX:Object(l.d)(l.a,1),minR:Object(l.d)(l.a,2),maxR:Object(l.d)(l.a,4)}),v=Object(f.a)(p,2),g=v[0],w=v[1],k=Object(c.useState)(),R=Object(f.a)(k,2),M=R[0],S=R[1],X=Object(c.useState)(),y=Object(f.a)(X,2),C=y[0],E=y[1],_=Object(c.useState)(!0),B=Object(f.a)(_,2),z=B[0],D=B[1],I=Object(c.useState)(),J=Object(f.a)(I,2),L=J[0],P=J[1],T=Object(c.useState)(!1),Y=Object(f.a)(T,2),A=Y[0],F=Y[1],U=Object(c.useState)(),W=Object(f.a)(U,2),q=W[0],G=W[1],H=Object(c.useState)(0),K=Object(f.a)(H,2),N=K[0],Q=K[1];Object(c.useEffect)((function(){Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(3).then(n.bind(null,35));case 3:t=e.sent,G(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(c.useEffect)((function(){Object(h.a)(b.a.mark((function e(){var t,n,a,c,i,s,u,h,f,l,j;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=38;break}if(t=g.minX,n=g.maxX,a=g.minR,c=g.maxR,r){e.next=4;break}return e.abrupt("return");case 4:if(i=r.getContext("2d")){e.next=7;break}return e.abrupt("return");case 7:if(s=r.getBoundingClientRect(),u=s.width,h=s.height,r.width=u,r.height=h,D(!0),i.fillStyle="white",i.fillRect(0,0,u,h),i.fillStyle="rgba(0,0,0,0.4)",!A){e.next=18;break}q.draw(i,u,h,a,c,t,n),e.next=36;break;case 18:f=Object(o.a)(x(i,u,h,a,c,t,n)),e.prev=19,f.s();case 21:if((l=f.n()).done){e.next=28;break}return j=l.value,Q(j/u),e.next=26,d(1);case 26:e.next=21;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(19),f.e(e.t0);case 33:return e.prev=33,f.f(),e.finish(33);case 36:D(!1),Q(0);case 38:case"end":return e.stop()}}),e,null,[[19,30,33,36]])})))()}),[g,r,q,A]),Object(c.useEffect)((function(){if(j){var e=j.getContext("2d");if(e){var t=j.getBoundingClientRect(),n=t.width,a=t.height;if(j.width=n,j.height=a,M){e.clearRect(0,0,n,a);var c=Object(f.a)(M,2),r=c[0],i=c[1],s=Object(f.a)(C,2),o=s[0],u=s[1];e.fillStyle="rgba(255,0,0,0.3)",e.fillRect(r,i,o-r,u-i)}}}}),[M,C,j]);var V=g.minR,Z=g.maxR,$=g.minX,ee=g.maxX;return Object(a.jsxs)("div",{style:{margin:20},children:[Object(a.jsx)("h1",{children:Object(a.jsx)("a",{href:"https://github.com/cmdcolin/logistic_chaos_map",children:"f(x)=rx(x-1)"})}),Object(a.jsx)("p",{children:"The function above is iterated for values of r between [2,4] and x between [0,1] and points where it lands after 1000 initial warm up iterations are plotted. Click and drag a region to zoom in."}),Object(a.jsx)("label",{htmlFor:"wasm",children:"Draw with WASM"}),Object(a.jsx)("input",{id:"wasm",type:"checkbox",checked:A,onChange:function(e){return F(e.target.checked)}}),Object(a.jsxs)("p",{children:["Current params: r=[",V,",",Z,"] x=[",$,",",ee,"]"]}),Object(a.jsx)("p",{children:z?"Loading...".concat(N.toPrecision(3)):null}),Object(a.jsx)("button",{onClick:function(){w(m),P(L+1),D(!0)},children:"Reset"}),Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("canvas",{ref:function(e){return i(e)},style:{background:"white",width:"100%",height:"100vh",position:"absolute",left:0,top:0}}),Object(a.jsx)("canvas",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100vh",zIndex:1e3},ref:function(e){return O(e)},onMouseDown:function(e){var t=e.nativeEvent,n=t.offsetX,a=t.offsetY;S([n,a]),E([n,a])},onMouseMove:function(e){var t=e.nativeEvent,n=t.offsetX,a=t.offsetY;M&&E([n,a])},onMouseLeave:function(){S(),E()},onMouseUp:function(){var e=Math.min(M[0],C[0]),t=Math.max(M[0],C[0]),n=Math.min(M[1],C[1]),a=Math.max(M[1],C[1]),c=g.maxR,r=g.minR,i=g.maxX,s=g.minX,o=j.getBoundingClientRect(),u=o.width,b=o.height;w({minR:(c-r)*e/u+r,maxR:(c-r)*t/u+r,minX:(i-s)*n/b+s,maxX:(i-s)*a/b+s}),P(L+1),S(),E(),D(!0)}})]})]})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.b,{children:Object(a.jsx)(O,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.8736dcfa.chunk.js.map