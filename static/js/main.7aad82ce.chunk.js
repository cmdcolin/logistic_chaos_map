(this.webpackJsonplogistic_map_chaos=this.webpackJsonplogistic_map_chaos||[]).push([[0],{21:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),i=a.n(n),r=a(12),o=a.n(r),s=a(3),l=a(13),b=a(5),u=a.n(b),j=a(8),h=a(4),f=(a(21),a(2)),d=u.a.mark(O);function O(e,t,a,c,n,i,r,o,s){var l,b,j,h,f,O,m,x,p,v,g,k,w,y;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:l=(n-c)/t,b=1e3*Math.pow(1.5,Math.log(1/(n-c))),j=0;case 3:if(!(j<t)){u.next=11;break}return u.next=6,j+1;case 6:for(h=j*l+c,f=0,O=0;f<o&&O<100;O++){for(m=Math.random(),x=0;x<Math.max(b,1e4);x++)m=h*m*(1-m);if(s)for(p=0;p<500;p++)g=a*((h-c)/(n-c)),(v=t*((m-i)/(r-i)))>0&&v<t&&(e.fillRect(v,g,.7,.7),f++),m=h*m*(1-m);else for(k=0;k<500;k++)y=t*((h-c)/(n-c)),(w=a*((m-i)/(r-i)))>0&&w<a&&(e.fillRect(y,w,.7,.7),f++),m=h*m*(1-m)}case 8:j++,u.next=3;break;case 11:case"end":return u.stop()}}),d)}var m=a(14),x=a.n(m);function p(e){return new Promise((function(t){return setTimeout(t,e)}))}var v=function(){var e=Object(n.useState)(),t=Object(h.a)(e,2),i=t[0],r=t[1],o=Object(n.useState)(),b=Object(h.a)(o,2),d=b[0],m=b[1],v=Object(f.e)({minX:Object(f.f)(f.b,0),maxX:Object(f.f)(f.b,1),minR:Object(f.f)(f.b,2),maxR:Object(f.f)(f.b,4),opacity:Object(f.f)(f.d,"0.3"),resolution:Object(f.f)(f.d,"1000"),animate:Object(f.f)(f.a,!0),drawWithWasm:Object(f.f)(f.a,!1),vertical:Object(f.f)(f.a,!1),scaleFactor:Object(f.f)(f.d,"2")}),g=Object(h.a)(v,2),k=g[0],w=g[1],y=Object(n.useState)(),N=Object(h.a)(y,2),R=N[0],S=N[1],C=Object(n.useState)(),M=Object(h.a)(C,2),X=M[0],F=M[1],W=Object(n.useState)(),_=Object(h.a)(W,2),z=_[0],E=_[1],B=Object(n.useState)(!0),D=Object(h.a)(B,2),T=D[0],P=D[1],A=Object(n.useState)(),I=Object(h.a)(A,2),J=I[0],L=I[1],Y=Object(n.useState)(0),G=Object(h.a)(Y,2),U=G[0],V=G[1],q=function(){var e=Object(n.useState)(0),t=Object(h.a)(e,2)[1];return Object(n.useCallback)((function(){t((function(e){return e+1}))}),[])}();Object(n.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.e(3).then(a.bind(null,39));case 3:t=e.sent,L(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]);var H=k.drawWithWasm,K=k.minX,Q=k.maxX,Z=k.minR,$=k.maxR,ee=k.opacity,te=k.resolution,ae=k.animate,ce=k.vertical,ne=k.scaleFactor,ie=+ne;return Object(n.useEffect)((function(){var e=!1;return Object(j.a)(u.a.mark((function t(){var a,c,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!J||Number.isNaN(ie)||Number.isNaN(+ee)||Number.isNaN(+te)){t.next=12;break}if(i){t.next=3;break}return t.abrupt("return");case 3:if(a=i.getContext("2d")){t.next=6;break}return t.abrupt("return");case 6:c=i.getBoundingClientRect(),n=c.width,r=c.height,i.width=n*ie,i.height=r*ie,P(!0),V(0),setTimeout(Object(j.a)(u.a.mark((function t(){var c,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.fillStyle="white",a.fillRect(0,0,n*ie,r*ie),a.fillStyle="rgba(0,0,0,".concat(+ee,")"),!H){t.next=7;break}J.draw(a,n*ie,r*ie,Z,$,K,Q,+te,ce),t.next=28;break;case 7:c=Object(l.a)(O(a,n*ie,r*ie,Z,$,K,Q,+te,ce)),t.prev=8,c.s();case 10:if((i=c.n()).done){t.next=20;break}if(o=i.value,!ae){t.next=16;break}return V(o/(n*ie)),t.next=16,p(1);case 16:if(!e){t.next=18;break}return t.abrupt("break",20);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),c.e(t.t0);case 25:return t.prev=25,c.f(),t.finish(25);case 28:e||(P(!1),V(0));case 29:case"end":return t.stop()}}),t,null,[[8,22,25,28]])}))),100);case 12:case"end":return t.stop()}}),t)})))(),function(){e=!0}}),[Z,$,K,Q,ie,ce,ae,H,ee,te,i,J]),Object(n.useEffect)((function(){if(d){var e=d.getContext("2d");if(e){var t=d.getBoundingClientRect(),a=t.width,c=t.height;if(d.width=a,d.height=c,R){e.clearRect(0,0,a,c);var n=Object(h.a)(R,2),i=n[0],r=n[1],o=Object(h.a)(z,2),s=o[0],l=o[1];e.fillStyle="rgba(255,0,0,0.3)",e.fillRect(i,r,s-i,l-r)}}}}),[R,z,d]),Object(c.jsxs)("div",{style:{margin:20},children:[Object(c.jsx)("h1",{children:Object(c.jsx)("a",{href:"https://github.com/cmdcolin/logistic_chaos_map",children:"f(x)=rx(x-1)"})}),Object(c.jsx)("p",{children:"The function above is iterated for values of r between [2,4] and x between [0,1] and points. Click and drag a region to zoom in. The program iterates until it draws N points in the zoomed in region, which results in higher computation time at zoomed in values. When zoomed in, it has to iterate the logistic map longer to find that many points to draw resulting in it being slower when zoomed in. The scale factor makes the canvas size larger, allowing the code to render higher resolution (larger) images."}),Object(c.jsxs)("div",{className:"controls",children:[Object(c.jsxs)("div",{className:"block",children:[Object(c.jsx)("label",{htmlFor:"opacity",children:"Opacity"}),Object(c.jsx)("input",{id:"opacity",type:"text",value:ee,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{opacity:e.target.value})),q()}})]}),Object(c.jsxs)("div",{className:"block",children:[Object(c.jsx)("label",{htmlFor:"resolution",children:"N"}),Object(c.jsx)("input",{id:"resolution",type:"text",value:te,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{resolution:e.target.value})),q()}})]}),Object(c.jsxs)("div",{className:"block",children:[Object(c.jsx)("label",{htmlFor:"scalefactor",children:"Scale factor"}),Object(c.jsx)("input",{id:"scalefactor",type:"text",value:ne,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{scaleFactor:e.target.value})),q()}})]}),Object(c.jsxs)("div",{className:"block",children:[Object(c.jsx)("label",{htmlFor:"wasm",children:"Draw with WASM"}),Object(c.jsx)("input",{id:"wasm",type:"checkbox",checked:H,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{drawWithWasm:e.target.checked})),q()}})]}),Object(c.jsxs)("div",{className:"block",children:[Object(c.jsx)("label",{htmlFor:"vertical",children:"Vertical"}),Object(c.jsx)("input",{id:"vertical",type:"checkbox",checked:ce,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{vertical:e.target.checked})),q()}})]}),H?null:Object(c.jsxs)("div",{className:"block",children:[Object(c.jsx)("label",{htmlFor:"animate",children:"Animate?"}),Object(c.jsx)("input",{id:"animate",disabled:H,type:"checkbox",checked:k.animate,onChange:function(e){w(Object(s.a)(Object(s.a)({},k),{},{animate:e.target.checked})),q()}})]}),Object(c.jsx)("p",{children:T?"Loading...".concat(U?(100*U).toPrecision(3)+"%":""):null}),Object(c.jsx)("button",{onClick:function(){i.toBlob((function(e){x()(e,"logistic_map_".concat(+Date.now(),".png"))}))},children:"Save as PNG"}),Object(c.jsx)("button",{onClick:function(){w(Object(s.a)(Object(s.a)({},k),{},{minX:0,maxX:1,minR:2,maxR:4})),q()},children:"Reset"})]}),Object(c.jsxs)("div",{style:{position:"relative"},children:[Object(c.jsx)("canvas",{ref:function(e){return r(e)},style:{background:"white",width:"100%",height:"100vh",position:"absolute",left:0,top:0}}),Object(c.jsx)("canvas",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100vh",zIndex:1e3},ref:function(e){return m(e)},onMouseDown:function(e){var t=e.nativeEvent,a=t.offsetX,c=t.offsetY;S([a,c]),E([a,c])},onMouseMove:function(e){var t=e.nativeEvent,a=t.offsetX,c=t.offsetY;R&&E([a,c])},onMouseLeave:function(){S(),E(),F(+Date.now())},onMouseUp:function(){if(+Date.now()-X>100){console.log("t1");var e=Math.min(R[0],z[0]),t=Math.max(R[0],z[0]),a=Math.min(R[1],z[1]),c=Math.max(R[1],z[1]),n=d.getBoundingClientRect(),i=n.width,r=n.height,o=ce?{minR:($-Z)*a/r+Z,maxR:($-Z)*c/r+Z,minX:(Q-K)*e/i+K,maxX:(Q-K)*t/i+K}:{minR:($-Z)*e/i+Z,maxR:($-Z)*t/i+Z,minX:(Q-K)*a/r+K,maxX:(Q-K)*c/r+K};w(Object(s.a)(Object(s.a)({},k),o)),q(),S(),E()}else console.log("t2"),F(),S(),E()}})]})]})};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(f.c,{children:Object(c.jsx)(v,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.7aad82ce.chunk.js.map